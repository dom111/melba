var c=Object.defineProperty,S=Object.defineProperties,k=Object.getOwnPropertyDescriptor,O=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var v=(s,e,t)=>e in s?c(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,l=(s,e)=>{for(var t in e||={})b.call(e,t)&&v(s,t,e[t]);if(f)for(var t of f(e))A.call(e,t)&&v(s,t,e[t]);return s},u=(s,e)=>S(s,O(e));var F=(s,e)=>{for(var t in e)c(s,t,{get:e[t],enumerable:!0})},q=(s,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of D(e))!b.call(s,i)&&i!==t&&c(s,i,{get:()=>e[i],enumerable:!(n=k(e,i))||n.enumerable});return s};var N=s=>q(c({},"__esModule",{value:!0}),s);var G={};F(G,{Melba:()=>m,default:()=>z,error:()=>B,info:()=>I,success:()=>W,toast:()=>p,warning:()=>j});module.exports=N(G);var E=class{#e={};on(e,t){e in this.#e||(this.#e[e]=[]),this.#e[e].push(t)}once(e,t){let n=(...i)=>{t(...i),this.off(e,n)};this.on(e,n)}off(e,t){if(!(e in this.#e))return;let n=this.#e[e].indexOf(t);n!==-1&&this.#e[e].splice(n,1)}emit(e,...t){e in this.#e&&this.#e[e].forEach(n=>n(...t))}},y=E;var $=(()=>{try{return document.querySelector(":focus-within"),!0}catch(s){return!1}})(),M=$;var a=class extends y{constructor(t,{animation:n=a.defaults.animation,animationDuration:i=a.defaults.animationDuration,closeLabel:r=a.defaults.closeLabel,container:o=null,containerClass:d=a.defaults.containerClass,containerElement:C=a.defaults.containerElement,events:x={},hide:h=a.defaults.hide,root:H=a.defaults.root,toastClass:g=a.defaults.toastClass,toastElement:w=a.defaults.toastElement,toastHideClass:K=a.defaults.toastHideClass,toastShowClass:L=a.defaults.toastShowClass,type:T=a.defaults.type}){super();if(!t)throw new TypeError("'content' cannot be empty.");if(this.animation=n,this.events=x,this.toastHideClass=K,this.toastShowClass=L,o||(o=this.getContainer({containerClass:d,containerElement:C,root:H})),this.container=o,h===!0&&(h=a.defaults.hideDelay),h!==!1&&h<100&&(h*=1e3),this.hideDelay=h,i<100&&(i*=1e3),this.build({closeLabel:r,content:t,toastClass:g,toastElement:w,type:T}),this.hideDelay!==!1&&this.autoHide(i),this.animation){window.requestAnimationFrame(()=>this.show());return}this.autoShow&&this.show()}autoHide(t){if(!!this.hideDelay)return window.setTimeout(()=>this.hide(),this.hideDelay+(this.animation?t:0))}build({closeLabel:t,content:n,toastClass:i,toastElement:r,type:o}){this.element=document.createElement(r),this.element.setAttribute("title",n),this.element.setAttribute("role","status"),this.element.setAttribute("tabindex","0"),this.element.classList.add(i),this.element.classList.add(`toast--${o}`),this.element.appendChild(this.buildClose(t)),this.element.appendChild(document.createTextNode(n)),this.element.addEventListener("keydown",d=>{d.key==="Escape"&&(d.preventDefault(),this.hide())}),this.container.appendChild(this.element),this.emit("build")}show(){this.element.classList.remove(this.toastHideClass),this.element.classList.add(this.toastShowClass),this.emit("show")}hide(t=!1){if(!t&&this.hasFocus)return;let n=(M?":focus-within, ":"")+":focus, :hover";if(!t&&this.element.matches(n)&&this.element.addEventListener("mouseout",()=>{this.hasFocus=!1,this.hideDelay>0&&this.hide()}),this.element.classList.remove(this.toastShowClass),this.element.classList.add(this.toastHideClass),this.emit("hide"),this.animation){let i=()=>this.remove(),r=()=>{d||(this.element.addEventListener("transitionend",()=>i()),d=!0)},o=()=>{this.show(),this.element.removeEventListener("transitionstart",()=>r()),this.element.removeEventListener("transitionend",()=>i()),this.element.removeEventListener("mouseover",()=>o()),this.element.addEventListener("mouseout",()=>this.hide())},d=!1;this.element.addEventListener("mouseover",()=>o()),this.element.addEventListener("transitionstart",()=>r());return}this.remove()}remove(){this.element.parentNode===this.container&&(this.container.removeChild(this.element),this.emit("remove"))}buildClose(t){let n=document.createElement("button");return n.setAttribute("title",t),n.appendChild(document.createTextNode(t)),n.addEventListener("click",()=>this.hide()),n}getContainer({containerClass:t,containerElement:n,root:i}){let r=i.querySelector(`${n}.${t}`);if(r)return r;let o=document.createElement(n);return o.classList.add(t),i.appendChild(o),o}getElement(){return this.element}static settings(t){a.defaults=l(l({},a.defaults),t)}},m=a;m.defaults={animation:!0,animationDuration:400,autoShow:!0,closeLabel:"Close",containerClass:"toast__container",containerElement:"div",hide:!1,hideDelay:5,root:document.body,toastClass:"toast",toastElement:"div",toastHideClass:"toast--hide",toastShowClass:"toast--show",type:"info"};var p=(s,e={})=>new m(s,u(l({},e),{autoShow:!0})),B=(s,e={})=>p(s,u(l({},e),{type:"error"})),I=(s,e={})=>p(s,u(l({},e),{type:"info"})),W=(s,e={})=>p(s,u(l({},e),{type:"success",hide:!0})),j=(s,e={})=>p(s,u(l({},e),{type:"warning"})),z=m;
//# sourceMappingURL=Melba.js.map
